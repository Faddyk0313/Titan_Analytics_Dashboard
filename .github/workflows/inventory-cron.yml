name: Inventory Snapshot Cron

on:
  schedule:
    - cron: "12 19 * * *"
  workflow_dispatch: {}

jobs:
  run-inventory-snapshot:
    runs-on: ubuntu-latest
    steps:
      - name: Call inventory snapshot endpoint
        env:
          CRON_SECRET: ${{ secrets.CRON_SECRET }}
        run: |
          curl -fsS -X POST \
            https://titan-analytics-dashboard.vercel.app/api/snapshot/inventory \
            -H "x-cron-secret: ${CRON_SECRET}"
